/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})}};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var r=n.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&!t;)t=r[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.d({},{o:()=>Ue});var i=function(){return e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rows=t,this.columns=n,this.gameboard=this.createGameBoard()},(t=[{key:"createGameBoard",value:function(){for(var e=[],t=0,n=0,r=0;r<100;r++){var o={coordinates:[t,n],ship:null};e.push(o),10==++n&&(t++,n=0)}return e}},{key:"placeShipObject",value:function(e,t,n,r){n.position={left:e,top:t},this.getShipCoordinates(e,t,n,r).forEach((function(e){e.ship=n}))}},{key:"receiveAttack",value:function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),r=t[0],o=t[1],i=this.gameboard.find((function(e){return e.coordinates[0]==r&&e.coordinates[1]==o}));return null===i.ship?(i.missedAttacks||(i.missedAttacks=[]),i.missedAttacks.push([r,o]),!1):(i.ship.hit(),!0)}},{key:"percentageToGridCoordinate",value:function(e){return Math.floor(e/100*10)}},{key:"findShipCoordinateIndex",value:function(e,t){var n=this.percentageToGridCoordinate(e),r=this.percentageToGridCoordinate(t);return this.gameboard.findIndex((function(e){return e.coordinates[0]==n&&e.coordinates[1]==r}))}},{key:"getOccupiedCoordinates",value:function(){return this.gameboard.filter((function(e){return null!=e.ship}))}},{key:"isShipCollision",value:function(e){return this.getOccupiedCoordinates().some((function(t){return e[0]===t.coordinates[0]&&e[1]===t.coordinates[1]}))}},{key:"getShipCoordinates",value:function(e,t,n,r){for(var o=[],i="y"===n.axis?{left:0,top:10}:{left:10,top:0},a=0;a<r;a++){var c=this.findShipCoordinateIndex(e,t),s=this.gameboard[c];if(!s)return!1;if(this.isShipCollision(s.coordinates))return!1;o.push(s),e+=i.left,t+=i.top}return o}},{key:"checkGameboardStatus",value:function(){return!!this.getOccupiedCoordinates().every((function(e){return e.ship.isSunk()}))}}])&&r(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),a=new i(10,10),c=new i(10,10);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}var d=function(){return e=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"floating",o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"x";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=o,this.length=t,this.hitCount=n,this.status=r,this.position=i,this.axis=a},(t=[{key:"hit",value:function(){this.hitCount++}},{key:"isSunk",value:function(){return this.hitCount===this.length&&(this.status="sunken",!0)}}])&&u(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),m=new d(5,0,"floating","carrier"),f=new d(4,0,"floating","battleship"),h=new d(3,0,"floating","cruiser"),p=new d(3,0,"floating","submarine"),y=new d(2,0,"floating","destroyer"),g=new d(5,0,"floating","carrier"),v=new d(4,0,"floating","battleship"),b=new d(3,0,"floating","cruiser"),w=new d(3,0,"floating","submarine"),E=new d(2,0,"floating","destroyer");function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k(r.key),r)}}function x(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function k(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==S(t)?t:t+""}var I=x((function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=t,this.gameboard=n,this.ships=r})),L=new I("real",a,{playerCarrier:m,playerBattleship:f,playerCruiser:h,playerSubmarine:p,playerDestroyer:y}),A=new I("computer",c,{computerCarrier:g,computerBattleship:v,computerCruiser:b,computerSubmarine:w,computerDestroyer:E});function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var T=new Set,O=[];function P(e,t){return T.has("".concat(e,",").concat(t))}function B(){var e,t,n=function(){if(O.length>0){var e=(r=O.shift(),o=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(r,o)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),t=e[0],n=e[1];return T.add("".concat(t,",").concat(n)),M(t,n),[t,n]}var r,o;return null}();if(n)return n;do{e=Y(),t=Y()}while(P(e,t));return T.add("".concat(e,",").concat(t)),M(e,t),[e,t]}function M(e,t){var n,r=a.findShipCoordinateIndex(10*e,10*t),o=a.gameboard[r];if(o&&null!=o.ship)if("x"===o.ship.axis)N(e,t,(n=r,{right:a.gameboard[n+10],left:a.gameboard[n-10]}),!0);else if("y"===o.ship.axis){var i=function(e){return{top:a.gameboard[e+1],bottom:a.gameboard[e-1]}}(r);N(e,t,i,!1)}}function N(e,t,n,r){r?(n.right&&void 0===n.right.missedAttacks&&!P(n.right.coordinates[0],n.right.coordinates[1])&&O.push([e+1,t]),n.left&&void 0===n.left.missedAttacks&&!P(n.left.coordinates[0],n.left.coordinates[1])&&O.push([e-1,t])):(n.top&&void 0===n.top.missedAttacks&&!P(n.top.coordinates[0],n.top.coordinates[1])&&O.push([e,t+1]),n.bottom&&void 0===n.bottom.missedAttacks&&!P(n.bottom.coordinates[0],n.bottom.coordinates[1])&&O.push([e,t-1]))}function Y(){return Math.floor(10*Math.random())}function G(e,t,n,r){return!!c.getShipCoordinates(e,t,n,r)}const _=e.p+"images/among_us_player_white_icon_156940.svg",q=e.p+"images/carrier.svg",D=e.p+"images/battleship.svg",W=e.p+"images/cruiser.svg",R=e.p+"images/destroyer.svg",U=e.p+"images/submarine.svg";var F={carrier:"50%",battleship:"40%",cruiser:"30%",submarine:"30%",destroyer:"20%"};function H(e){e.classList.add("y-ships")}var $=!0;function X(){return $}var J=null,K=[];function V(e){e.preventDefault();var t=document.getElementById("setup-grid"),n=t.querySelectorAll(".squares"),r=te(J),o=ee(e,t),i=o.xPercent,c=o.yPercent,s=a.percentageToGridCoordinate(i),u=a.percentageToGridCoordinate(c),l=function(e,t,n,r){for(var o=[],i=[],c=0;c<r;c++){var s=a.gameboard.findIndex((function(n){return n.coordinates[0]===t&&n.coordinates[1]===e}));o.push(s),X()?e++:t++}return o.forEach((function(e){i.push(n[e])})),i}(s,u,n,r.length);Q(),Z(s,u,r.length)?l.forEach((function(e){null!=e&&(e.classList.add("highlight"),e.classList.add("red"),K.push(e))})):Z(s,u,r.length)||l.forEach((function(e){null!=e&&(e.classList.add("highlight"),e.classList.add("blue"),K.push(e))}))}function z(e){e.stopPropagation(),J=e.target.id,e.dataTransfer.setData("text/plain",J)}function Q(){K.forEach((function(e){e.classList.remove("highlight","blue","red")})),K=[]}function Z(e,t,n){for(var r=0;r<n;r++){var o=a.gameboard.find((function(n){return n.coordinates[0]===e&&n.coordinates[1]===t}));if(void 0===o)return!0;if(null!=o.ship)return!0;X()?e++:t++}return!1}function ee(e,t){var n=t.getBoundingClientRect(),r=e.clientX-n.left,o=e.clientY-n.top;return{xPercent:Math.floor(r/n.width*100),yPercent:Math.floor(o/n.height*100)}}function te(e){switch(e){case"carrier":return m;case"battleship":return f;case"cruiser":return h;case"submarine":return p;case"destroyer":return y;default:return null}}function ne(e){e.preventDefault(),Q();var t,n=document.querySelector(".gameboard-grid"),r=function(e){var t=e.dataTransfer.getData("text/plain");return{draggedShipId:t,draggedContainer:document.getElementById(t),draggedShipImg:document.querySelector("#".concat(t," img"))}}(e),o=r.draggedShipId,i=r.draggedContainer,c=r.draggedShipImg,s=te(o),u=ee(e,n),l=u.xPercent,d=u.yPercent,g=function(e){var t=e.querySelector(".squares").getBoundingClientRect();return{squareWidth:t.width,squareHeight:t.height}}(n),v=g.squareWidth,b=g.squareHeight,w=function(e,t,n,r){var o=Math.floor(e/n)*n,i=Math.floor(t/r)*r;return{snappedXPercent:10*Math.round(o/10),snappedYPercent:10*Math.round(i/10)}}(l,d,v/n.getBoundingClientRect().width*100,b/n.getBoundingClientRect().height*100),E=w.snappedXPercent,S=w.snappedYPercent;X()||function(e){var t={carrier:m,battleship:f,cruiser:h,submarine:p,destroyer:y}[e];t&&(t.axis="y")}(o),a.getShipCoordinates(E,S,s,s.length)&&(a.placeShipObject(E,S,s,s.length),X()||H(c),function(e,t,n,r,o,i){F[e]&&(t.classList.add("placed-ships"),t.style.width=F[e],t.style.height="10%",n.innerHTML="",t.style.position="absolute",t.style.left="".concat(r,"%"),t.style.top="".concat(o,"%"),i.appendChild(t))}(o,c,i,E,S,n),i.classList.add("placed-ship-containers")),function(){var e=L.ships;for(var t in e)if(void 0===e[t].position)return!1;return!0}()&&((t=document.getElementById("confirmButton")).disabled=!1,t.classList.remove("disabled-confirmButton"))}const re=e.p+"images/among_us_player_red_icon_156942.svg";function oe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return new Promise((function(r){var o=0;!function i(){o<t.length?(e.textContent+=t.charAt(o),o++,setTimeout(i,n)):r()}()}))}function ie(e){var t=["Bullseye! Your ships are no match for my skills.","Direct hit! Did you really think you could outsmart me?","Another perfect shot! Your fleet is falling apart.","You’re getting hit hard! My aim is unbeatable.","Looks like I’m on fire today! Can’t you see you’re doomed?","Another strike! Your defenses are crumbling.","You can’t escape my relentless assault!","Every shot finds its mark—how does it feel to lose?","Your ships are like sitting ducks. Easy targets!","I’m hitting all the right spots—what’s your strategy again?","You’re outmatched and outgunned! Expect more hits.","I’m unbeatable! Your fleet is going down fast.","Another hit! Your tactics are laughable.","You’re just making it easier for me—more hits are coming!","You’re sinking fast! My aim is too precise for you.","How does it feel to be cornered? More hits incoming!","You can’t hide from me! Your defeat is imminent.","I’m picking you off one by one—no escape!","Your ships are doomed! My accuracy is unmatched.","Your defeat is inevitable—prepare for more hits!"],n=ae(t.length);return"yes"===e?t[n]:"no"===e?["You’re just lucky—my aim is too good for you.","Enjoy this moment of luck. It won’t last long!","You dodged this time, but don’t get too comfortable.","Just a fluke! My next shot will find its mark.","Nice dodge, but it’s only a temporary reprieve.","You got away this time, but my aim is still superior.","A minor miss! I’m just warming up.","Consider this a lucky escape. I’m closing in.","You might have dodged, but I’ll be hitting you soon.","Your luck is running out. My shots will land next time!","You’re on borrowed time—my aim is flawless!","That shot was a warm-up. Prepare for more hits.","You escaped this time, but my accuracy will prevail.","A miss, but it just means I’ll be more precise next time.","Don’t get too cocky! I’ll be hitting you soon enough.","A miss, but expect more precise strikes shortly.","You’re evading now, but the hits will come soon.","My aim is relentless. I’ll get you eventually.","A close miss. I’m just honing my skills.","A miss, but it’s only a matter of time before I get you."][n]:void 0}function ae(e){return Math.floor(Math.random()*e)}function ce(e,t,n,r,o,i){var a=document.createElement("section");a.id=o,a.className="message-container",e.appendChild(a);var c=document.createElement("img");c.src=t,c.className="avatar",c.id=i,a.appendChild(c);var s=document.createElement("p");s.id=r,a.appendChild(s),oe(s,n).then((function(){setTimeout((function(){Ue()}),1e3)}))}function se(e){for(var t=document.getElementById(e),n=0;n<100;n++){var r=document.createElement("div");r.className="squares",t.appendChild(r)}}const ue=e.p+"audio/AMONG US - OST - MAIN THEME SONG [HQ].mp3",le=e.p+"audio/Cannon Sound Effect.mp3",de=e.p+"audio/Water Drop - Sound Effects.mp3",me=e.p+"audio/Among Us Victory Sound.mp3",fe=e.p+"audio/Among Us Defeat Sound.mp3",he=e.p+"audio/Magic Reveal Sound Effect.mp3";var pe={menuTheme:new Audio(ue),hitSound:new Audio(le),missSound:new Audio(de),victorySound:new Audio(me),defeatSound:new Audio(fe),revealShipSound:new Audio(he)};function ye(e){var t=pe[e];return t?new Promise((function(e,n){t.onended=function(){e()},t.onerror=function(e){n(e)},t.play().catch(n)})):Promise.reject(new Error('Sound "'.concat(e,'" not found')))}function ge(e){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(e)}function ve(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ge(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ge(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}pe.menuTheme.loop=!0,pe.menuTheme.volume=.025,pe.hitSound.volume=.05,pe.missSound.volume=.05,pe.victorySound.volume=.3,pe.defeatSound.volume=.25,pe.revealShipSound.volume=.05;var be=document.getElementById("enterCombatBtn");function we(e,t,n){var r=document.createElement("div");if(r.className="gameboard-container",r.id=n,e.appendChild(r),n){var o=document.createElement("header");o.className="gameboard-header",r.appendChild(o),"player-gameboard"===n?o.textContent="Friendly Waters":"computer-gameboard"===n&&(o.textContent="Enemy Waters")}var i=document.createElement("div");i.className="x-axis";for(var a=0;a<=9;a++){var c=document.createElement("div");c.textContent=String.fromCharCode("A".charCodeAt(0)+a),i.appendChild(c)}r.appendChild(i);var s=document.createElement("div");s.id="y-axis-grid-container",r.appendChild(s);var u=document.createElement("div");u.id="y-axis",s.appendChild(u),["1","2","3","4","5","6","7","8","9","10"].forEach((function(e){var t=document.createElement("div");t.textContent=e,u.appendChild(t)}));var l=document.createElement("div");l.id=t,l.className="gameboard-grid",s.appendChild(l)}function Ee(){document.getElementById("setup-page").style.display="none",function(){var e=document.createElement("div");e.id="game-page";var t=document.createElement("div");t.id="game-container",document.body.appendChild(e),e.appendChild(t);var n,r,o,i=((n=document.createElement("section")).id="gameboardSection",we(n,"player-grid","player-gameboard"),we(n,"computer-grid","computer-gameboard"),n),a=(r=document.getElementById("nameInput").value,(o=document.createElement("section")).id="quoteSection",ce(o,_,"Our formation is set and ready for action captain ".concat(r,". We are awaiting your orders."),"allyParagraph","allyMessageSection","allyAvatar"),ce(o,re,"You will regret the day you started this ".concat(r,". Let the war begin."),"enemyParagraph","enemyMessageSection","enemyAvatar"),o);t.append(i,a),se("player-grid"),se("computer-grid"),function(){var e,t,n,r=document.getElementById("player-grid"),o=L.ships;for(var i in o){var a=o[i];if(null!=a.position){var c=(e=a.name,t=a.position,n=void 0,(n={carrier:{src:q,width:"50%",shipInstance:m},battleship:{src:D,width:"40%",shipInstance:f},cruiser:{src:W,width:"30%",shipInstance:h},submarine:{src:U,width:"30%",shipInstance:p},destroyer:{src:R,width:"20%",shipInstance:y}})[e]?xe(xe({},n[e]),{},{position:t}):null);c&&Ie(c,r)}}}()}()}function Se(e){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Se(e)}function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Se(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Se(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Se(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){var n=e.src,r=e.width,o=e.shipInstance,i=e.position,a=i.left,c=i.top,s=document.createElement("img");s.className="shipImg",s.classList.add("placed-ships"),s.src=n,s.style.position="absolute",s.style.height="10%",s.style.width=r,s.style.left="".concat(a,"%"),s.style.top="".concat(c,"%"),"y"===o.axis&&H(s),t.appendChild(s)}function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Ae(){Ae=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:I(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var m="suspendedStart",f="suspendedYield",h="executing",p="completed",y={};function g(){}function v(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(O([])));S&&S!==n&&r.call(S,a)&&(w=S);var C=b.prototype=g.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,a,c){var s=d(e[o],e,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==Le(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function I(t,n,r){var o=m;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===p){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var s=L(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var u=d(t,n,r);if("normal"===u.type){if(o=r.done?p:f,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=p,r.method="throw",r.arg=u.arg)}}}function L(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Le(t)+" is not iterable")}return v.prototype=b,o(C,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=u(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,s,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},x(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(C),u(C,s,"Generator"),u(C,a,(function(){return this})),u(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function je(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Te(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){je(i,r,o,a,c,"next",e)}function c(e){je(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Oe(e){var t=document.createElement("div");e.appendChild(t),e.classList.add("hit-disabled")}function Pe(e){var t=document.createElement("div");e.appendChild(t),e.classList.add("missed-disabled")}var Be=[{instance:g,src:q,width:"50%"},{instance:v,src:D,width:"40%"},{instance:b,src:W,width:"30%"},{instance:w,src:U,width:"30%"},{instance:E,src:R,width:"20%"}];function Me(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=Te(Ae().mark((function e(t){var n,r;return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=null,r=0;case 2:if(!(r<Be.length)){e.next=11;break}if(!Be[r].instance.isSunk()){e.next=8;break}return Ie({src:Be[r].src,width:Be[r].width,shipInstance:Be[r].instance,position:Be[r].instance.position},t),n=r,e.next=8,ye("revealShipSound");case 8:r++,e.next=2;break;case 11:null!=n&&Be.splice(n,1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(e,t){return Ge.apply(this,arguments)}function Ge(){return(Ge=Te(Ae().mark((function e(t,n){var r,o;return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=document.getElementById("".concat(t,"Paragraph"))).textContent="",o="ally"===t?(i=n,void 0,void 0,c=ae((a=["A SINGULAR STRIKE!","Bullseye! That enemy ship didn't see it coming!","Direct hit! The enemy won't recover from that.","Well done, Captain! The enemy ship is taking on water!","Nailed it! The enemy fleet is falling apart.","Hit confirmed! The enemy is losing ground.","That was a precision strike, Captain! Well done.","Perfect hit! The enemy's defenses are crumbling.","Remarkable accuracy! It's a matter of time.","What a hit! The enemy is in shambles.","Outstanding hit, Captain! We're turning the tide!","You hit their weak spot! Victory is within reach!","Excellent shot! The enemy's morale is plummeting.","Our aim is true! The enemy is feeling the pressure.","Direct hit, Captain! Keep up the great work.","Great shot! The enemy's defenses are breaking down.","Impressive accuracy! The enemy is on the ropes.","Another perfect hit! The enemy's defeat is imminent.","Your targeting is spot-on, Captain! Well done!","Fantastic! The enemy is reeling from that strike."]).length),"yes"===i?a[c]:"no"===i?["Just a bit off, Captain. Let's adjust our aim and try again.","Missed by a hair! We'll get them next time.","Close call! The enemy got lucky this time.","No hit this time, Captain. Let's stay focused.","The enemy dodged that one. Ready for another shot?","Well, that was a warning shot! Let's make the next one count.","That one went wide, but no worries—we'll get them soon!","Just a bit off-target, Captain. The next shot will land!","Good try, Captain. Let's keep our aim sharp.","The enemy is proving to be evasive, Captain, but we won't give up.","We missed this time, but we’ll recalibrate and get them next round!","Don’t let it get to you, Captain. We’ll find our mark soon!","A near miss! The enemy’s luck won’t last long.","Adjusting our aim—next shot will be on target.","That shot went wide, but stay alert—we’re in this to win.","Heads up, Captain! We’re due for a hit.","Keep your spirits up, Captain. Our next shot will land.","That one was close, but not quite. We’ll get them next time.","Missed! But we’re just getting started.","The enemy dodged us this time, but our aim will improve."][c]:void 0):ie(n),e.prev=3,e.next=6,oe(r,o);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.error("Error during typing:",e.t0);case 11:case"end":return e.stop()}var i,a,c}),e,null,[[3,8]])})))).apply(this,arguments)}const _e=e.p+"images/defeatCharacterIcon.png",qe=e.p+"images/victoryCharacterrIcon.png";function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}be.addEventListener("click",(function(){ye("menuTheme"),document.getElementById("main-menu").style.display="none";var e,t,n,r,o,i,c=function(e){var t=document.createElement("div");return t.id="setup-container",e.appendChild(t),t}(((i=document.createElement("div")).id="setup-page",i.className="app-page",document.body.appendChild(i),i));!function(e){var t=document.getElementById("nameInput").value,n=document.createElement("section");n.id="ally-message-container",e.appendChild(n);var r=document.createElement("img");r.src=_,r.className="avatar",n.appendChild(r);var o=document.createElement("p"),i="Ahoy Captain ".concat(t,"!");oe(o,i,30).then((function(){setTimeout((function(){o.textContent="",oe(o,"Please choose your fleet configuration by selecting the axis and dragging and dropping ships on the map.",30)}),1e3)})),n.appendChild(o)}(c),function(e){var t=document.createElement("section");t.id="gameboard-layout-container",e.appendChild(t);var n=function(e){var t=document.createElement("div");return t.id="gridAxis-container",e.appendChild(t),t}(t);(function(e){var t=document.createElement("div");t.id="axis-btn-container",e.appendChild(t);var n=document.createElement("button");n.id="xAxisButton",n.textContent="X axis";var r=document.createElement("button");r.id="yAxisButton",r.textContent="Y axis",t.append(n,r)})(n),function(e){var t=document.createElement("div");t.id="battleship-sidebar",e.appendChild(t),[{src:q,title:"Carrier (5f)"},{src:D,title:"Battleship (4f)"},{src:W,title:"Cruiser (3f)"},{src:U,title:"Submarine\n(3f)"},{src:R,title:"Destroyer (2f)"}].forEach((function(e){var n=document.createElement("div");n.setAttribute("draggable","true"),n.className="battleship-container";var r=document.createElement("img");r.setAttribute("draggable","false"),r.className="shipImg",r.src=e.src,e.title.includes("Submarine")&&(n.id="submarine",r.id="submarineImg"),e.title.includes("Battleship")&&(n.id="battleship"),e.title.includes("Cruiser")&&(n.id="cruiser"),e.title.includes("Carrier")&&(n.id="carrier"),e.title.includes("Destroyer")&&(n.id="destroyer");var o=document.createElement("p");o.textContent=e.title,e.title.includes("Submarine")&&(o.style.whiteSpace="pre",o.style.textAlign="center",o.style.marginTop="0.2rem"),n.append(r,o),t.appendChild(n)}))}(t),we(n,"setup-grid",null)}(c),function(e){var t=document.createElement("section");t.id="reset-confirm-button-section",e.appendChild(t);var n=document.createElement("button");n.className="actionButtons",n.id="resetButton",n.textContent="Reset";var r=document.createElement("button");r.disabled=!0,r.classList.add("disabled-confirmButton"),r.classList.add("actionButtons"),r.id="confirmButton",r.textContent="Confirm",t.append(n,r)}(c),function(e){for(var t=document.getElementById("setup-grid"),n=0;n<e;n++){var r=document.createElement("div");r.className="squares",t.appendChild(r)}}((e=a).rows*e.columns),t=document.querySelectorAll(".squares"),n=document.querySelector(".gameboard-grid"),document.querySelectorAll(".battleship-container").forEach((function(e){e.addEventListener("dragstart",z),e.addEventListener("dragend",(function(){Q(),J=null}))})),n.addEventListener("dragover",V),n.addEventListener("drop",ne),t.forEach((function(e){e.addEventListener("dragleave",Q)})),r=document.getElementById("xAxisButton"),o=document.getElementById("yAxisButton"),r.addEventListener("click",(function(){r.classList.remove("inactive"),r.classList.add("active"),o.classList.add("inactive"),$=!0})),o.addEventListener("click",(function(){o.classList.remove("inactive"),o.classList.add("active"),r.classList.add("inactive"),$=!1})),document.getElementById("resetButton").addEventListener("click",(function(){var e,t=ve(ve(ve(ve(ve({},q,{container:document.getElementById("carrier"),text:"Carrier (5f)"}),D,{container:document.getElementById("battleship"),text:"Battleship (4f)"}),W,{container:document.getElementById("cruiser"),text:"Cruiser (3f)"}),U,{container:document.getElementById("submarine"),text:"Submarine\n(3f)"}),R,{container:document.getElementById("destroyer"),text:"Destroyer (2f)"});document.querySelectorAll(".gameboard-grid .shipImg").forEach((function(e){var n=t[e.src];n&&function(e,t,n){t.classList.remove("placed-ship-containers"),e.classList.remove("placed-ships"),e.classList.remove("y-ships"),e.style.position="relative",e.style.top="0",e.style.left="0",e.style.width="6rem",e.style.height="3.5rem",e.style.transform="rotate(".concat(0,"deg)");var r,o,i=document.createElement("p");i.textContent=n,t.append(e,i),e.src===U&&(o=i,(r=e).style.paddingTop="1rem",r.style.width="8rem",r.style.height="4rem",o.style.whiteSpace="pre",o.style.textAlign="center",o.style.marginTop="0.2rem")}(e,n.container,n.text)})),a.gameboard.forEach((function(e){null!=e.ship&&(e.ship=null)})),function(){var e=L.ships;for(var t in e){var n=e[t];n.position=void 0,n.axis="x"}}(),(e=document.getElementById("confirmButton")).disabled=!0,e.classList.add("disabled-confirmButton")})),document.getElementById("confirmButton").addEventListener("click",Ee)})),function(){var e=A.ships;Object.keys(e).forEach((function(t){var n=e[t];n.axis=["x","y"][Math.floor(2*Math.random())];var r=function(e,t){var n,r;do{var o={left:10*Math.floor(100*Math.random()/10),top:10*Math.floor(100*Math.random()/10)};n=o.left,r=o.top}while(!G(n,r,e,t));return{left:n,top:r}}(n,n.length),o=r.left,i=r.top;c.placeShipObject(o,i,n,n.length)}))}();var We=!1,Re=!0;function Ue(){$e("add")}function Fe(){$e("remove"),a.checkGameboardStatus()||function e(){We||Ue(),a.checkGameboardStatus()?Xe("defeat",_e):setTimeout((function(){var t,n,r=(t=B(),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return De(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1],c=a.receiveAttack([o,i]),s=function(e,t,n){return document.getElementById("player-grid").querySelectorAll(".squares")[a.gameboard.findIndex((function(n){return n.coordinates[0]===t&&n.coordinates[1]===e}))]}(o,i);c?(Oe(s),Promise.all([ye("hitSound"),Ye("enemy","yes")]).then(e)):(Re=!0,We=!1,Pe(s),Promise.all([ye("missSound"),Ye("enemy","no")]).then(Ue))}),500)}()}function He(e){if(!1===We&&!0===Re&&e.target.matches("#computer-grid .squares")){var t=e.target,n=document.getElementById("computer-grid"),r=ee(e,n),o=r.xPercent,i=r.yPercent,a=c.percentageToGridCoordinate(o),s=c.percentageToGridCoordinate(i);c.receiveAttack([a,s])?(Re=!1,$e("remove"),Oe(t),Promise.all([Me(n),ye("hitSound"),Ye("ally","yes")]).then((function(){if(c.checkGameboardStatus())return $e("remove"),void Xe("win",qe);Re=!0,Ue()}))):(Re=!1,We=!0,Pe(t),Promise.all([ye("missSound"),Ye("ally","no")]).then((function(){setTimeout((function(){Fe()}),1e3)})))}}function $e(e){"add"===e?document.body.addEventListener("click",He):document.body.removeEventListener("click",He)}function Xe(e,t){var n;!function(e,t){var n=document.createElement("div");n.id="end-game-overlay";var r=document.getElementById("game-page"),o=document.createElement("div"),i=document.createElement("h4");i.className="heading-result";var a="win"===e?"YOU WIN!":"YOU LOSE!";i.textContent=a;var c=document.createElement("img");c.className="resultImg",c.src=t;var s=document.createElement("p"),u="win"===e?"We did it Captain! The ocean belongs to you — your name will be remembered in naval history!":"I told you to not mess with me, but some lessons need to be learned the hard way.";s.textContent=u,s.style.fontSize="1.3rem";var l=document.createElement("button");l.textContent="New Game",l.classList.add("actionButtons"),l.addEventListener("click",(function(){location.reload()})),o.className="game-over-modal",o.classList.add("win"===e?"human-modal":"computer-modal"),o.append(i,c,s,l),r.append(n,o)}(e,t),(n=pe.menuTheme)&&(n.pause(),n.currentTime=0),ye("win"===e?"victorySound":"defeatSound")}})();